<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="https://images.vexels.com/media/users/3/157209/isolated/lists/725aa2473489db2e550656210c557f18-icono-de-pizza-con-queso.png"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Arizonia&display=swap"
      rel="stylesheet"
    />
    <title>PizzaFast</title>
    <style>
      * {
        box-sizing: border-box;
        font-family: "Open Sans", sans-serif;
      }
      h2 {
        font-family: "Arizonia", cursive;
        font-size: 3em;
        text-align: center;
        margin-top: 0;
        margin-bottom: 0;
      }
      /*Posicionar un form a el lateral del a pagina*/
      form {
        position: absolute;
        top: 50%;
        left: 70%;
        transform: translate(-50%, -50%);
        width: 600px;
        padding: 40px;
        background: #fff;
        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2),
          0 5px 5px 0 rgba(0, 0, 0, 0.24);
      }
      /*Estilos de los elementos del formulario*/

      input[type="text"] {
        width: 100%;
        padding: 14px;
        margin: 8px 0;
        border: 1px solid #ccc;
        border-radius: 4px;
        resize: vertical;
      }

      label {
        padding: 12px 12px 12px 0;
        font-size: large;
      }

      input[type="submit"] {
        display: flex;
        align-items: center;
        justify-content: center;
        margin-top: 12px;
        padding: 12px 20px;
        background-color: #d41c1c;
        font-size: larger;
        color: white;
        padding: 12px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        float: left;
      }

      input[type="submit"]:hover {
        background-color: #a72626;
      }

      /*legend en negrita*/
      legend {
        font-weight: bold;
      }
      /*posicionar el div pizza a la derecha y en el centro*/
      .pizza {
        position: absolute;
        top: 50%;
        left: 20%;
        transform: translate(-50%, -50%);
        width: 500px;
        height: 500px;
        padding: 40px;
        border-radius: 50%;
        overflow: hidden;
        background: rgb(255, 255, 255);
        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2),
          0 5px 5px 0 rgba(0, 0, 0, 0.24);
        background: rgb(216, 216, 216) url("./img/grande/todo.png") no-repeat
          center;
      }
      #gif {
        text-align: center;
        position: absolute;
        width: 20%;
        height: 20%;
        top: 1%;
        left: 61%;
        margin-top: 0;
        margin-bottom: 0;
      }

      /* Responsive layout - when the screen is less than 600px wide, make the two columns stack on top of each other instead of next to each other */
      @media screen and (max-width: 600px) {
        input[type="submit"] {
          width: 100%;
          margin-top: 0;
        }
      }
      /*Estilos de los botones*/
      input[type="radio"]:after {
        width: 15px;
        height: 15px;
        border-radius: 15px;
        top: -2px;
        left: -1px;
        position: relative;
        background-color: #d1d3d1;
        content: "";
        display: inline-block;
        visibility: visible;
        border: 2px solid white;
      }

      input[type="radio"]:checked:after {
        width: 15px;
        height: 15px;
        border-radius: 15px;
        top: -2px;
        left: -1px;
        position: relative;
        background-color: #ff0000;
        content: "";
        display: inline-block;
        visibility: visible;
        border: 2px solid white;
      }

      input[type="checkbox"]:after {
        width: 15px;
        height: 15px;
        border-radius: 15px;
        top: -2px;
        left: -1px;
        position: relative;
        background-color: #d1d3d1;
        content: "";
        display: inline-block;
        visibility: visible;
        border: 2px solid white;
      }

      input[type="checkbox"]:checked:after {
        width: 15px;
        height: 15px;
        border-radius: 15px;
        top: -2px;
        left: -1px;
        position: relative;
        background-color: #ff0000;
        content: "";
        display: inline-block;
        visibility: visible;
        border: 2px solid white;
      }
    </style>
  </head>
  <body>
    <h2>Elige tu piza</h2>
    <img src="./img/createpizza.gif" id="gif" alt="" />
    <div class="pizza"></div>
    <form id="formulario" action="">
      <fieldset>
        <legend>Información</legend>
        <label>
          <input
            type="text"
            name="name"
            id="nombre"
            pattern="^[A-Z][A-z]+$"
            placeholder="Nombre"
          />
        </label>
        <label>
          <input
            type="text"
            name="direccion"
            id="direccion"
            pattern="[A-Za-z0-9'\.\-\s\,]"
            placeholder="Direccion"
          />
        </label>
        <label>
          <input
            type="text"
            name="email"
            id="email"
            pattern="[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+"
            placeholder="Email"
          />
        </label>
        <label>
          <input
            type="text"
            name="phone"
            id="telefono"
            pattern="(\+34|0034|34)?[-]*(6|7)[ -]*([0-9][ -]*){8}"
            placeholder="Telefono"
          />
        </label>
      </fieldset>
      <fieldset>
        <legend>Elige el tamaño</legend>
        <label>
          <input
            type="radio"
            name="tamaño"
            value="pequeño"
            id="peque"
            onclick="cambiarTamano()"
          />
          Pequeña
        </label>
        <label>
          <input
            type="radio"
            name="tamaño"
            value="mediana"
            id="mediano"
            onclick="cambiarTamano()"
          />
          Mediana
        </label>
        <label>
          <input
            type="radio"
            name="tamaño"
            value="grande"
            id="grande"
            onclick="cambiarTamano()"
          />
          Grande
        </label>
      </fieldset>
      <fieldset>
        <legend>Ingredientes</legend>
        <label>
          <input
            type="checkbox"
            value="queso"
            name="ingredientes"
            onclick="eligeingrdientes()"
          />
          Queso
        </label>
        <label>
          <input
            type="checkbox"
            value="bacon"
            name="ingredientes"
            onclick="eligeingrdientes()"
          />
          Bacon
        </label>
        <label>
          <input
            type="checkbox"
            value="tomate"
            name="ingredientes"
            onclick="eligeingrdientes()"
          />
          Tomate
        </label>
        <label>
          <input
            type="checkbox"
            value="pollo"
            name="ingredientes"
            onclick="eligeingrdientes()"
          />
          Pollo
        </label>
      </fieldset>
      <input type="submit" value="Procesar el pedido" />
    </form>

    <script>
      // funcion basica de validación de un formulario
      function validacion() {
        console.log("validando los datos del formulario...");

        function precio() {
          let precio = 0;
          if (tamaño[0].checked) {
            precio += 5;
          } else if (tamaño[1].checked) {
            precio += 10;
          } else if (tamaño[2].checked) {
            precio += 15;
          }
          if (ingredientes[0].checked) {
            precio += 1;
          }
          if (ingredientes[1].checked) {
            precio += 1;
          }
          if (ingredientes[2].checked) {
            precio += 1;
          }
          if (ingredientes[3].checked) {
            precio += 1;
          }
          return precio;
        }

        if (nombre.value.trim() == "") {
          // Si no se cumple la condicion...
          swal({
            title: "Error!",
            text: "El campo nombre debe estar relleno!",
            icon: "error",
            button: "Ok",
          });
          return false;
        }

        if (direccion.value.trim() == "") {
          // Si no se cumple la condicion...
          swal({
            title: "Error!",
            text: "El campo direccion debe estar relleno!",
            icon: "error",
            button: "Ok",
          });
          return false;
        }

        if (email.value.trim() == "") {
          // Si no se cumple la condicion...
          swal({
            title: "Error!",
            text: "El campo email debe estar relleno!",
            icon: "error",
            button: "Ok",
          });
          return false;
        }

        if (telefono.value.trim() == "") {
          // Si no se cumple la condicion...
          swal({
            title: "Error!",
            text: "El campo telefono debe estar relleno!",
            icon: "error",
            button: "Ok",
          });
          return false;
        }

        //Validando que se haya elegido alguna opción del radio
        //notese que seleccionamos por name ya que queremos todos
        //los radio button
        tamaño = document.getElementsByName("tamaño");
        var seleccionado = false;
        for (var i = 0; i < tamaño.length; i++) {
          if (tamaño[i].checked) {
            seleccionado = true;
            break;
          }
        }

        if (!seleccionado) {
          swal({
            title: "Error!",
            text: "Se debe selecionar un tamaño!",
            icon: "error",
            button: "Ok",
          });
          return false;
        }

        ingredientes = document.getElementsByName("ingredientes");
        var ingrsele = false;
        for (var i = 0; i < ingredientes.length; i++) {
          if (ingredientes[i].checked) {
            ingrsele = true;
            break;
          }
        }

        if (!ingrsele) {
          swal({
            title: "Error!",
            text: "Se debe selecionar al menos un ingrediente!",
            icon: "error",
            button: "Ok",
          });
          return false;
        }

        // Si el script ha llegado a este punto, todas las condiciones
        // se han cumplido, por lo que se devuelve el valor true
        // para que se propague el evento de mandar el formulario
        if (
          seleccionado &&
          ingrsele &&
          nombre.value.trim() != "" &&
          direccion.value.trim() != "" &&
          email.value.trim() != "" &&
          telefono.value.trim() != ""
        ) {
          alert(
            "El pedido a nombre de " +
              nombre.value +
              " con el precio de " +
              precio() +
              " euros, se ha realizado correctamente!"
          );
          swal({
            title: "Pedido aceptado!",
            text:
              "El pedido a nombre de " +
              nombre.value +
              " con el precio de " +
              precio() +
              " euros, se ha realizado correctamente!",
            icon: "success",
            button: "Ok",
          });
            return true;
        }
      }

      window.onload = function () {
        formulario.onsubmit = validacion;
      };

      function cambiarTamano() {
        let queso = document.querySelector('input[value="queso"]');
        let bacon = document.querySelector('input[value="bacon"]');
        let tomate = document.querySelector('input[value="tomate"]');
        let pollo = document.querySelector('input[value="pollo"]');

        let pequeña = document.querySelector('input[value="pequeño"]');
        let mediana = document.querySelector('input[value="mediana"]');
        let grande = document.querySelector('input[value="grande"]');

        let pizza = document.querySelector(".pizza");
        if (pequeña.checked == true) {
          pizza.style.width = "300px";
          pizza.style.height = "300px";
          pizza.style.backgroundImage = 'url("./img/peque/todo.png")';
          queso.checked = false;
          bacon.checked = false;
          tomate.checked = false;
          pollo.checked = false;
        }
        if (mediana.checked == true) {
          pizza.style.width = "400px";
          pizza.style.height = "400px";
          pizza.style.backgroundImage = 'url("./img/mediana/todo.png")';
          queso.checked = false;
          bacon.checked = false;
          tomate.checked = false;
          pollo.checked = false;
        }
        if (grande.checked == true) {
          pizza.style.width = "500px";
          pizza.style.height = "500px";
          pizza.style.backgroundImage = 'url("./img/grande/todo.png")';
          queso.checked = false;
          bacon.checked = false;
          tomate.checked = false;
          pollo.checked = false;
        }
      }

      function eligeingrdientes() {
        let queso = document.querySelector('input[value="queso"]');
        let bacon = document.querySelector('input[value="bacon"]');
        let tomate = document.querySelector('input[value="tomate"]');
        let pollo = document.querySelector('input[value="pollo"]');

        let pequeña = document.querySelector('input[value="pequeño"]');
        let mediana = document.querySelector('input[value="mediana"]');
        let grande = document.querySelector('input[value="grande"]');

        let pizza = document.querySelector(".pizza");

        /* Grandes */
        if (queso.checked == true && grande.checked == true) {
          pizza.style.backgroundImage = 'url("./img/grande/pizzaqueso.png")';
        }
        if (bacon.checked == true && grande.checked == true) {
          pizza.style.backgroundImage = 'url("./img/grande/pizzabacon.png")';
        }
        if (tomate.checked == true && grande.checked == true) {
          pizza.style.backgroundImage = 'url("./img/grande/pizzatomate.png")';
        }
        if (pollo.checked == true && grande.checked == true) {
          pizza.style.backgroundImage = 'url("./img/grande/pizzapollo.png")';
        }

        if (
          queso.checked == true &&
          bacon.checked == true &&
          grande.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/grande/pizzabaconqueso.png")';
        }
        if (
          queso.checked == true &&
          tomate.checked == true &&
          grande.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/grande/pizzaquesotomate.png")';
        }
        if (
          queso.checked == true &&
          pollo.checked == true &&
          grande.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/grande/pizzaquesopollo.png")';
        }
        if (
          bacon.checked == true &&
          tomate.checked == true &&
          grande.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/grande/pizzabacontomate.png")';
        }
        if (
          bacon.checked == true &&
          pollo.checked == true &&
          grande.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/grande/pizzabaconpollo.png")';
        }
        if (
          tomate.checked == true &&
          pollo.checked == true &&
          grande.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/grande/pizzatomatepollo.png")';
        }
        if (
          queso.checked == true &&
          bacon.checked == true &&
          tomate.checked == true &&
          grande.checked == true
        ) {
          pizza.style.backgroundImage = 'url("./img/grande/todo.png")';
        }

        /* Medianas */
        if (queso.checked == true && mediana.checked == true) {
          pizza.style.backgroundImage = 'url("./img/mediana/pizzaqueso.png")';
        }
        if (bacon.checked == true && mediana.checked == true) {
          pizza.style.backgroundImage = 'url("./img/mediana/pizzabacon.png")';
        }
        if (tomate.checked == true && mediana.checked == true) {
          pizza.style.backgroundImage = 'url("./img/mediana/pizzatomate.png")';
        }
        if (pollo.checked == true && mediana.checked == true) {
          pizza.style.backgroundImage = 'url("./img/mediana/pizzapollo.png")';
        }

        if (
          queso.checked == true &&
          bacon.checked == true &&
          mediana.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/mediana/pizzabaconqueso.png")';
        }
        if (
          queso.checked == true &&
          tomate.checked == true &&
          mediana.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/mediana/pizzaquesotomate.png")';
        }
        if (
          queso.checked == true &&
          pollo.checked == true &&
          mediana.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/mediana/pizzaquesopollo.png")';
        }
        if (
          bacon.checked == true &&
          tomate.checked == true &&
          mediana.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/mediana/pizzabacontomate.png")';
        }
        if (
          bacon.checked == true &&
          pollo.checked == true &&
          mediana.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/mediana/pizzabaconpollo.png")';
        }
        if (
          tomate.checked == true &&
          pollo.checked == true &&
          mediana.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/mediana/pizzatomatepollo.png")';
        }
        if (
          queso.checked == true &&
          bacon.checked == true &&
          tomate.checked == true &&
          mediana.checked == true
        ) {
          pizza.style.backgroundImage = 'url("./img/mediana/todo.png")';
        }

        /* Peque */

        if (queso.checked == true && pequeña.checked == true) {
          pizza.style.backgroundImage = 'url("./img/peque/pizzaqueso.png")';
        }
        if (bacon.checked == true && pequeña.checked == true) {
          pizza.style.backgroundImage = 'url("./img/peque/pizzabacon.png")';
        }
        if (tomate.checked == true && pequeña.checked == true) {
          pizza.style.backgroundImage = 'url("./img/peque/pizzatomate.png")';
        }
        if (pollo.checked == true && pequeña.checked == true) {
          pizza.style.backgroundImage = 'url("./img/peque/pizzapollo.png")';
        }

        if (
          queso.checked == true &&
          bacon.checked == true &&
          pequeña.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/peque/pizzabaconqueso.png")';
        }
        if (
          queso.checked == true &&
          tomate.checked == true &&
          pequeña.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/peque/pizzaquesotomate.png")';
        }
        if (
          queso.checked == true &&
          pollo.checked == true &&
          pequeña.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/peque/pizzaquesopollo.png")';
        }
        if (
          bacon.checked == true &&
          tomate.checked == true &&
          pequeña.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/peque/pizzabacontomate.png")';
        }
        if (
          bacon.checked == true &&
          pollo.checked == true &&
          pequeña.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/peque/pizzabaconpollo.png")';
        }
        if (
          tomate.checked == true &&
          pollo.checked == true &&
          pequeña.checked == true
        ) {
          pizza.style.backgroundImage =
            'url("./img/peque/pizzatomatepollo.png")';
        }
        if (
          queso.checked == true &&
          bacon.checked == true &&
          tomate.checked == true &&
          pequeña.checked == true
        ) {
          pizza.style.backgroundImage = 'url("./img/peque/todo.png")';
        }
      }
    </script>
  </body>
</html>
